:root {
    /* Default theme colors */
    --color-primary: #f45c40;
    --color-primary-rgb: 244, 92, 64;
    --color-secondary: #f5d9a0;
    --color-background: #f5d9a0;
    --color-surface: #ffffff;
    --color-text: #333333;
    --color-accent: #f45c40;
    --color-splash: #00c4a7;

    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;

    /* Border radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;

    /* Transitions */
    --transition-fast: 0.2s ease;
    --transition-normal: 0.3s ease;

    /* Focus ring */
    --focus-ring-width: 2px;
    --focus-ring-offset: 4px;
    --focus-ring-color: var(--color-splash);
    --focus-ring-alpha: 0.5;
}

/* Base focus styles */
*:focus {
    outline: none !important;
}

*:focus-visible {
    outline: none !important;
    -webkit-outline: none !important;
    -webkit-focus-ring-color: transparent !important;
    box-shadow:
        0 0 0 var(--focus-ring-width) var(--color-surface),
        0 0 0 calc(var(--focus-ring-width) + var(--focus-ring-offset)) var(--focus-ring-color),
        0 0 calc(var(--focus-ring-offset) * 2) rgba(var(--color-primary-rgb), var(--focus-ring-alpha));
}

/* Remove focus styles when using mouse */
*:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
}

/* Ensure buttons use custom focus styles */
button:focus {
    outline: none !important;
    -webkit-focus-ring-color: transparent !important;
}

/* Theme-specific styles */
.theme-breakfast {
    --color-primary: var(--breakfast-primary, #ff9a3c);
    --color-primary-rgb: 255, 154, 60;
    --color-background: var(--breakfast-background, #fff7e6);
    --color-splash: var(--breakfast-splash, #e91e63);
    --focus-ring-color: var(--color-splash);
    --focus-ring-alpha: 0.4;
}

.theme-lunch {
    --color-primary: var(--lunch-primary, #4caf50);
    --color-primary-rgb: 76, 175, 80;
    --color-background: var(--lunch-background, #f1f8e9);
    --color-splash: var(--lunch-splash, #ff6b6b);
    --focus-ring-color: var(--color-splash);
    --focus-ring-alpha: 0.4;
}

.theme-supper {
    --color-primary: var(--supper-primary, #5c6bc0);
    --color-primary-rgb: 92, 107, 192;
    --color-background: var(--supper-background, #f5f6ff);
    --color-splash: var(--supper-splash, #ffd93d);
    --focus-ring-color: var(--color-splash);
    --focus-ring-alpha: 0.5;
}

.theme-midnight {
    --color-primary: var(--midnight-primary, #6366f1);
    --color-primary-rgb: 99, 102, 241;
    --color-background: var(--midnight-background, #0f172a);
    --color-surface: var(--midnight-surface, #1e293b);
    --color-text: var(--midnight-text, #f8fafc);
    --color-splash: var(--midnight-splash, #4ade80);
    --focus-ring-color: var(--color-splash);
    --focus-ring-alpha: 0.3;
}

/* Base styles */
body {
    margin: 0;
    padding: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: var(--color-background);
    color: var(--color-text);
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* Utility classes */
.bg-surface {
    background-color: var(--color-surface);
}

.text-primary {
    color: var(--color-primary);
}

.border-accent {
    border-color: var(--color-accent);
}

/* Accessibility improvements */
@media (prefers-contrast: more) {
    :root {
        --focus-ring-width: 3px;
        --focus-ring-offset: 6px;
        --focus-ring-alpha: 0.8;
    }
}

/* Remove transitions for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    :root {
        --transition-fast: 0s;
        --transition-normal: 0s;
    }
}

/* Update button styles to use splash color */
.meal-button:focus-visible::before {
    outline: none !important;
    -webkit-focus-ring-color: transparent !important;
    background: rgba(var(--color-primary-rgb), 0.1);
    box-shadow:
        0 0 0 var(--focus-ring-width) var(--color-surface),
        0 0 0 calc(var(--focus-ring-width) + var(--focus-ring-offset)) var(--focus-ring-color),
        0 0 calc(var(--focus-ring-offset) * 2) rgba(var(--color-primary-rgb), var(--focus-ring-alpha));
}

.meal-button:hover {
    background-color: var(--color-splash);
    border-color: var(--color-splash);
    color: var(--color-surface);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2);
}

.search-bar input:focus {
    background-color: rgba(255, 255, 255, 0.25);
    border-color: var(--color-splash);
    box-shadow:
        0 0 0 4px rgba(var(--color-primary-rgb), 0.2),
        0 2px 4px rgba(0, 0, 0, 0.1);
}